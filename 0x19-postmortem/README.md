Issue Summary
On 23–8–2023, My company was suffering from the failure of a Wordpress website, which is running on a LAMP stack, within a maximum period of 48 hours. the server was throwing a 500 error in response to all requests generated. It was a critical error because it affected 100% of the site’s users.

Timeline
# 23–8–2023, 05:00 am:- Project released.
# 23–8–2023, 07:15 am:- Debugging begins. A request is made from the site, and an error with code 500 is obtained.
# 23–8–2023, 07:30 am:- The status of the processes is displayed and the absence of php processes running is detected.
# 23–8–2023, 7: 50 am:- Information is collected on possible alternative solutions to the error found, taking into account that the website is built from a LAMP stack
# 23–8–2023, 8:45 am:- The log files in /var/log are examined and it is found that the error log in php is not active
# 23–8–2023, 09:05 am:- Error logging for php is activated in the file /var/www/html/wp-config.php changing the status of the following directives from false to true:
	define( ‘WP_DEBUG’, true );
	define( ‘WP_DEBUG_LOG’, true );
# 23–8–2023, 09:30 am:- Checking the log file finds the error: No such file or directory, in the file /var/www/html/wp-settings.php on line 134. Finally, the error in the respective file is corrected.


Root cause and resolution
The 500 error was generated by a typing error in the file /var/www/html/wp-settings.php, one of the directives was invoking a non-existent file, because the extension phpp was used instead of php. 
The solution was to use puppet’s exec directive together with the sed command to replace phpp with php in the respective file as shown below:
exec { ‘/usr/bin/env sed -i “s/phpp/php/g” /var/www/html/wp-settings.php’: }

Corrective and preventative measures
To avoid this type of error, it is very important, whenever someone accesses the server to modify the configuration, that they immediately verify that the website is still working and in case of error, inform the technological team about changes made to give a prompt solution. Likewise, it is suggested to take into account the debugging process described above, it would be a good alternative to quickly locate the cause of a 500 error on the website.

Thanks for reading.

